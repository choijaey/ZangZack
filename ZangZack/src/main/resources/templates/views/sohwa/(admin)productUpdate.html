<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link href="css/sohwa/(admin)productUpdate.css" rel="stylesheet">
</head>
<body>
<br><br><br><br><!--네비--><br><br><br><br>
	<div id="enrollProduct">
		<h1>상품 수정</h1>
		<hr style="border:1px solid black;">
		<br>
		<form>
			<h3>▸▸상품 대표 사진 (최대 4개): </h3>
			<div id="resultDiv1" class="resultDiv">
				<div style="display: inline-block;width:250px;height:200px;">
					1.<input type="file" class="corePhoto" onchange="previewImage(event, 'preview1')"><br>
					<img id="preview1" src="image/sohwa/icons8-camera-80.png">
					<button style="margin-left:65px;">취소</button>
				</div>
			</div>
			
			<div id="resultDiv2" class="resultDiv">
				<div style="display: inline-block;width:250px;height:200px;">
					2.<input type="file" class="corePhoto" onchange="previewImage(event, 'preview2')"><br>
					<img id="preview2" src="image/sohwa/icons8-camera-80.png">
					<button style="margin-left:65px;">취소</button>
				</div>
			</div>
			
			<div id="resultDiv3" class="resultDiv">
				<div style="display: inline-block;width:250px;height:200px;">
					3.<input type="file" class="corePhoto" onchange="previewImage(event, 'preview3')"><br>
					<img id="preview3" src="image/sohwa/icons8-camera-80.png">
					<button style="margin-left:65px;">취소</button>
				</div>
			</div>
			
			<div id="resultDiv4" class="resultDiv">
				<div style="display: inline-block;width:250px;height:200px;">
					4.<input type="file" class="corePhoto" onchange="previewImage(event, 'preview4')"><br>
					<img id="preview4" src="image/sohwa/icons8-camera-80.png">
					<button style="margin-left:65px;">취소</button>
				</div>
			</div>
			
			<br><br><br><br>
			
			<label for="productCompany" style="font-size: 20px;">▸▸상품 업체 : </label>
			<input type="text" name="productCompany" id="productCompany">
			
			
			<br><br><br>
			
			<label for="productName" style="font-size: 20px;">▸▸상품명 : </label>
			<input type="text" name="productName" id="productName">
			
			<br><br><br>
			
	         <label for="productCategory" style="font-size: 20px;">▸▸카테고리:</label>
	         <select id="productCategory" name="productCategory" required>
	             <option value="tent">텐트</option>
	             <option value="bed">취침용품</option>
	             <option value="cook">조리도구</option>
	             <option value="fire">발화용품</option>
	             <option value="bag">백팩</option>
	             <option value="others">기타용품</option>
	           <!-- 카테고리 옵션 추가 -->
	         </select>
		
		    <br><br><br>
		  
		    <label for="productPrice" style="font-size: 20px;">▸▸상품가격 : </label>
		    <input type="number" name="productPrice" id="productPrice"> 원
		  
		    <br><br><br>
		  
		    <label for="productEno" style="font-size: 20px;">▸▸상품수량 : </label>
		    <input type="number" name="productEno" id="productEno"> 개
		  
		  
		  <br><br><br>
		  
		  
		    <h3>▸▸상품 상세 사진 (최대 4개): </h3>
			<div id="detailDiv1" class="detailDiv">
				<div style="display: inline-block;width:250px;height:200px;">
					1.<input type="file" class="detailPhoto" onchange="previewImage(event, 'detail1')"><br>
					<img id="detail1" src="image/sohwa/icons8-camera-80.png">
					<button style="margin-left:65px;">취소</button>
				</div>
			</div>
			
			<div id="detailDiv2" class="detailDiv">
				<div style="display: inline-block;width:250px;height:200px;">
					2.<input type="file" class="detailPhoto" onchange="previewImage(event, 'detail2')"><br>
					<img id="detail2" src="image/sohwa/icons8-camera-80.png">
					<button style="margin-left:65px;">취소</button>
				</div>
			</div>
			
			<div id="detailDiv3" class="detailDiv">
				<div style="display: inline-block;width:250px;height:200px;">
					3.<input type="file" class="detailPhoto" onchange="previewImage(event, 'detail3')"><br>
					<img id="detail3" src="image/sohwa/icons8-camera-80.png">
					<button style="margin-left:65px;">취소</button>
				</div>
			</div>
			
			<div id="detailDiv4" class="detailDiv">
				<div style="display: inline-block;width:250px;height:200px;">
					4.<input type="file" class="detailPhoto" onchange="previewImage(event, 'detail4')"><br>
					<img id="detail4" src="image/sohwa/icons8-camera-80.png">
					<button style="margin-left:65px;">취소</button>
				</div>
			</div>
		  	
		  	
		  	
		  	<br><br><br><br><hr style="border:1px solid black;"><br><br>
		  	
		  	
		  	<button id="preBtn">이전으로</button>
			<button id="enrollBtn">등록하기</button>
			
		</form>
	</div>
	
	
	
	
	
	<br><br><br><br><!--footer--><br><br><br><br>
	
	
	
	
	
	
	
	
	<script>
		//미리보기
		function previewImage(event, previewId) {
	      const input = event.target;
	      const preview = document.getElementById(previewId);
	      const file = input.files[0];
	      const reader = new FileReader();
	
	      reader.onload = function(e) {
	        preview.src = e.target.result;
	      };
	
	      reader.readAsDataURL(file);
	    }
	    
	    
	    
	    
	    
	    
	    
	    
	    
	      // 취소 버튼 클릭 시 해당 파일 인풋(input) 리셋
		  function resetFileInput(button) {
		    const parentDiv = button.parentNode; // 클릭된 버튼이 속한 div
		    const fileInput = parentDiv.querySelector('input[type="file"]');
		    const preview = parentDiv.querySelector('img');
		
		    if (fileInput && preview) {
		      fileInput.value = ''; // 파일 입력(input) 초기화
		      preview.src = 'image/sohwa/icons8-camera-80.png'; // 미리보기 이미지 초기화
		    }
		  }
		
		  // 각 취소 버튼에 이벤트 핸들러 추가
		  const resultDivButtons = document.querySelectorAll('.resultDiv button');
		  const detailDivButtons = document.querySelectorAll('.detailDiv button');
		
		  resultDivButtons.forEach(function(button) {
		    button.addEventListener('click', function(event) {
		      event.preventDefault(); // 기본 이벤트 동작 방지
		      resetFileInput(this);
		    });
		  });
		
		  detailDivButtons.forEach(function(button) {
		    button.addEventListener('click', function(event) {
		      event.preventDefault(); // 기본 이벤트 동작 방지
		      resetFileInput(this);
		    });
		  });


  
	</script>

</body>
</html>